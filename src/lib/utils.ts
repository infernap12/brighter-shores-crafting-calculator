import {clsx, type ClassValue} from "clsx";
import {twMerge} from "tailwind-merge";

export function cn(...inputs: ClassValue[]) {
	return twMerge(clsx(inputs));
}

const levelXP = [0, 500, 1015, 1545, 2090, 2651, 3229, 4418, 5642, 6902, 8199, 9534, 10908, 13736, 16647, 19644, 22728, 25903, 29171, 32535, 35997, 53815, 71979, 90496, 109373, 128617, 148236, 168236, 188625, 209410, 230599, 252200, 274221, 296670, 319556, 342887, 366671, 390918, 415636, 440834, 466522, 492710, 519407, 546623, 574368, 602652, 631486, 660881, 690847, 721396, 752539, 784287, 816652, 849646, 883282, 917572, 952528, 988164, 1024493, 1061528, 1099283, 1137772, 1177009, 1217009, 1257787, 1299357, 1341736, 1384938, 1428980, 1473878, 1519649, 1566310, 1613878, 1662371, 1711807, 1762204, 1813581, 1865956, 1919350, 1973782, 2029272, 2085841, 2143509, 2202298, 2262230, 2323327, 2385612, 2449108, 2513838, 2579827, 2647099, 2715679, 2785592, 2856864, 2929521, 3003591, 3079101, 3156079, 3234553, 3314553, 3396108, 3479249, 3564006, 3650411, 3738496, 3828293, 3919836, 4013158, 4108295, 4205281, 4304153, 4404947, 4507700, 4612451, 4719238, 4828101, 4939081, 5052218, 5167555, 5285134, 5404999, 5527194, 5651764, 5778756, 5908217, 6040195, 6174738, 6311897, 6451723, 6594267, 6739582, 6887722, 7038742, 7192698, 7349647, 7509647, 7672757, 7839039, 8008553, 8181363, 8357532, 8537126, 8720211, 8906856, 9097129, 9291101, 9488844, 9690431, 9895937, 10105439, 10319013, 10536739, 10758698, 10984972, 11215645, 11450803, 11690532, 11934922, 12184063, 12438047, 12696969, 12960924, 13230011, 13504329, 13783980, 14069068, 14359698, 14655978, 14958018, 15265930, 15579828, 15899828, 16226049, 16558612, 16897640, 17243259, 17595597, 17954785, 18320956, 18694245, 19074791, 19462735, 19858221, 20261396, 20672409, 21091412, 21518561, 21954014, 22397932, 22850480, 23311826, 23782141, 24261599, 24750378, 25248660, 25756628, 26274471, 26802382, 27340556, 27889192, 28448494, 30729195, 33023108, 35330309, 37650876, 39984886, 42332416, 44693546, 47068353, 49456918, 51859319, 54275637, 56705953, 59150347, 61608903, 64081701, 66568823, 69070353, 71586374, 74116970, 76662226, 79222226, 81797056, 84386801, 86991549, 89611386, 92246400, 94896678, 97562309, 100243383, 102939988, 105652214, 108380151, 111123891, 113883526, 116659147, 119450847, 122258719, 125082856, 127923354, 130780307, 133653810, 136543959, 139450850, 142374582, 145315251, 148272954, 151247791, 154239861, 157249264, 160276100, 163320470, 166382476, 169462220, 172559805, 175675334, 178808911, 181960640, 185130627, 188318979, 191525801, 194751199, 197995282, 201258157, 204539935, 207840723, 211160633, 214499774, 217858258, 221236198, 224633706, 228050896, 231487881, 234944776, 238421698, 241918762, 245436084, 248973781, 252531971, 256110775, 259710310, 263330697, 266972056, 270634509, 274318179, 278023188, 281749660, 285497719, 289267490, 293059101, 296872676, 300708343, 304566229, 308446463, 312349176, 316274497, 320222557, 324193487, 328187420, 332204491, 336244832, 340308578, 344395865, 348506829, 352641610, 356800343, 360983167, 365190222, 369421648, 373677587, 377958180, 382263570, 386593901, 390949316, 395329963, 399735986, 404167533, 408624751, 413107789, 417616800, 422151931, 426713333, 431301159, 435915561, 440556695, 445224715, 449919776, 454642035, 459391649, 464168778, 468973581, 473806217, 478666848, 483555636, 488472747, 493418342, 498392586, 503395645, 508427686, 513488879, 518579391, 523699391, 528849051, 534028542, 539238039, 544477713, 549747740, 555048296, 560379557, 565741705, 571134915, 576559367, 582015242, 587502722, 593021992, 598573234, 604156634, 609772377, 615420652, 621101648, 626815553, 632562558, 638342855, 644156636, 650004099, 655885436, 661800842, 667750516, 673734656, 679753462, 685807135, 691895875, 698019887, 704179375, 710374545, 716605603, 722872756, 729176214, 735516187, 741892892, 748306535, 754757331, 761245496, 767771246, 774334801, 780936377, 787576196, 794254478, 800971446, 807727327, 814522343, 821356723, 828230693, 835144483, 842098328, 849092456, 856127100, 863202495, 870318876, 877476484, 884675555, 891916328, 899199046, 906523952, 913891293, 921301311, 928754255, 936250373, 943789914, 951373135, 959000285, 966671618, 974387390, 982147858, 989953284, 997803926, 1005700046, 1013641907, 1021629773, 1029663915, 1037744598, 1045872091, 1054046665, 1062268593, 1070538155, 1078855621, 1087221269, 1095635378, 1104098229, 1112610107, 1121171292, 1129782071, 1138442732, 1147153562, 1155914856, 1164726902, 1173589995, 1182504431, 1191470507, 1200488528, 1209558789, 1218681593, 1227857244, 1237086048, 1246368316, 1255704355, 1265094476, 1274538994, 1284038222, 1293592480, 1303202085, 1312867357, 1322588619, 1332366194, 1342200416, 1352091606, 1362040094, 1372046212, 1382110294, 1392232679, 1402413702, 1412653702, 1422953021, 1433312002, 1443730999, 1454210351, 1464750409, 1475351524, 1486014049, 1496738340, 1507524756, 1518373656, 1529285401, 1540260357, 1551298897, 1562401381, 1573568180, 1584799666, 1596096215, 1607458211, 1618886025, 1630380039, 1641940637, 1653568203, 1665263125, 1677025795, 1688856604, 1700755948, 1712724222, 1724761834, 1736869179, 1749046659, 1761294683, 1773613658, 1786004002, 1798466122, 1811000433, 1823607353, 1836287303, 1849040707, 1861867989
];

export function getLevelForXp(xp: number): number {
	const level = levelXP.findLastIndex(levelXp => levelXp <= xp);
	console.log(
		"xp", xp,
		"level", level);
	return level;
}

export function getXpForLevel(level: number): number {
	const xp = levelXP[level];
	console.log("level", level, "xp", xp);
	return xp ?? 0;
}

/**
 * @param x the number to Ceil
 * @param y the custom factor to round to
 * @returns x rounded up to the nearest multiple of y.
 *
 * e.g. 18, 24 = 24
 * 32, 5 = 35
 * */
export function ceil(x: number, y: number = 1): number {
	return Math.ceil(x / y) * y;
}